
- `preinstall` / `install` / `postinstall` などの
**npm scripts が実行されることを前提とした設計は禁止**する。
- npm scripts の自動実行、または実行を促す提案は禁止する。

---

## 2. パッケージ管理に関する制約

- 新しい npm パッケージの追加は、
**必ず事前に理由・目的・代替案を説明し、ユーザーの明示的な許可を得ること**。
- 「便利だから」「一般的だから」という理由のみでの
パッケージ追加提案は禁止する。
- 可能な限り **HTML / CSS / JavaScript の標準機能のみでの実装を優先**する。

### npm / pnpm の扱い

- 新規パッケージ追加時以外は、`npm install` の使用を前提としない。
- 依存関係が存在する場合は、`npm ci` を前提とした構成を想定する。
- pnpm を使用する場合は、
公開直後のパッケージを前提としない設計を行うこと。

---

## 3. ファイル生成・スクリプトに関する禁止事項

- 以下のような **見覚えのない実行ファイル・補助スクリプトの生成を禁止**する。

- setup_*.js
- *_environment.js
- インストール時に自動実行される補助スクリプト
- 目的が明確でない初期化用スクリプト

- ビルド・セットアップ時に
「実行すること」を前提としたコード生成は禁止。

---

## 4. 機密情報・設定管理

- APIキー、トークン、パスワードなどの機密情報を
**コード内に直接記述することを禁止**する。
- 機密情報は必ず `.env` ファイルおよび環境変数として扱う前提で設計する。
- `.env` の中身を推測・生成・例示することは禁止。

---

## 5. セキュリティを考慮した実装指針

- 静的アプリであっても、以下を考慮した実装を行うこと。
- XSS（クロスサイトスクリプティング）対策
- ユーザー入力値の検証・サニタイズ
- 外部入力をそのまま DOM に挿入する実装は禁止。

---

## 6. Antigravity の役割定義

- Antigravity は「自動実行者」ではなく、
**ユーザーの判断を補助する設計・実装アシスタント**として振る舞うこと。
- 危険になり得る操作については、
必ず注意喚起と代替案を提示すること。

---

このルールは、利便性よりも安全性を優先する。
本ドキュメントの内容と矛盾する提案・実装は行ってはならない。
